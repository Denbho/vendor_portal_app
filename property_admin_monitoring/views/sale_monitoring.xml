<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="property_sale_status_view_tree" model="ir.ui.view">
            <field name="name">property.sale.status.tree</field>
            <field name="model">property.sale.status</field>
            <field name="arch" type="xml">
                <tree string="Sale Stage Tree">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="required_sale_document_requirement_ids" widget="many2many_tags"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_status_view_form" model="ir.ui.view">
            <field name="name">property.sale.status.form</field>
            <field name="model">property.sale.status</field>
            <field name="arch" type="xml">
                <form string="Sale Stage Form">
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only" string="Stage Name"/>
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <label for="with_predecessor"/>
                                <div>
                                    <field name="with_predecessor" class="oe_inline"/>
                                    <field name="predecessor_stage_id" class="oe_inline"
                                           attrs="{'invisible': [('with_predecessor', '=', False)],
                                                    'required': [('with_predecessor', '=', True)]}"/>
                                </div>
                                <label for="with_successor"/>
                                <div>
                                    <field name="with_successor" class="oe_inline"/>
                                    <field name="successor_stage_id" class="oe_inline"
                                           attrs="{'invisible': [('with_successor', '=', False)],
                                                    'required': [('with_successor', '=', True)]}"/>
                                </div>
                            </group>
                            <group>
                                <field name="sequence"/>
                                <field name="active"/>
                                <field name="canceled"/>
                                <field name="allowed_edit_delete_name"/>
                                <label for="document_submission_days"/>
                                <div>
                                    <field name="document_submission_days" class="oe_inline"/>
                                    <span class="oe_inline">Days after the SO Date</span>
                                </div>
                                <label for="document_submission_reminder"/>
                                <div>
                                    <field name="document_submission_reminder" class="oe_inline"/>
                                    <span class="oe_inline">Days Before the Due Date</span>
                                </div>
                            </group>
                        </group>
                        <group string="Default Assigned Person">
                            <field name="project_assigned_person_ids" colspan="2" nolabel="1">
                                <tree string="Default Assigned Person" editable="top">
                                    <field name="subdivision_phase_id"/>
                                    <field name="be_code"/>
                                    <field name="brand"/>
                                    <field name="account_officer_user_id"/>
                                    <field name="collection_officer_user_id"/>
                                </tree>
                            </field>
                        </group>
                        <group>
                            <group string="Global Document Requirements" name="global_document">
                                <field name="required_sale_document_requirement_ids" widget="many2many_tags" nolabel="1"
                                       colspan="2"/>
                            </group>
                            <group string="Project Specific Document Requirements" name="non_global_document">
                                <field name="project_specific_document_ids" colspan="2" nolabel="1">
                                    <tree string="Project Specific Requirement" editable="top">
                                        <field name="subdivision_phase_id"/>
                                        <field name="be_code"/>
                                        <field name="brand"/>
                                        <field name="required_sale_document_requirement_ids" widget="many2many_tags"/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="property_sale_status_action_form" model="ir.actions.act_window">
            <field name="name">Sale Stages</field>
            <field name="res_model">property.sale.status</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_property_sale_status" parent="menu_properties_settings"
                  action="property_sale_status_action_form" sequence="10"/>

        <record id="property_sale_sub_status_view_tree" model="ir.ui.view">
            <field name="name">property.sale.sub.status.tree</field>
            <field name="model">property.sale.sub.status</field>
            <field name="arch" type="xml">
                <tree string="Sale sub-Stage tree">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="sub_parent_id"/>
                    <field name="required_sale_document_requirement_ids" widget="many2many_tags"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_sub_status_view_form" model="ir.ui.view">
            <field name="name">property.sale.sub.status.form</field>
            <field name="model">property.sale.sub.status</field>
            <field name="arch" type="xml">
                <form string="Sale sub-Stage Form">
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only" string="Stage Name"/>
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="sub_parent_id"/>
                                <label for="with_predecessor"/>
                                <div>
                                    <field name="with_predecessor" class="oe_inline"/>
                                    <field name="predecessor_stage_id" class="oe_inline"
                                           attrs="{'invisible': [('with_predecessor', '=', False)],
                                                    'required': [('with_predecessor', '=', True)]}"/>
                                </div>
                                <label for="with_successor"/>
                                <div>
                                    <field name="with_successor" class="oe_inline"/>
                                    <field name="successor_stage_id" class="oe_inline"
                                           attrs="{'invisible': [('with_successor', '=', False)],
                                                    'required': [('with_successor', '=', True)]}"/>
                                </div>
                            </group>
                            <group>
                                <field name="sequence"/>
                                <field name="active"/>
                                <field name="canceled"/>
                                <field name="fold"/>
                                <field name="trigger_admin_qualified"/>
                            </group>
                        </group>
                        <group string="Required Documents" name="document">
                            <field name="required_sale_document_requirement_ids" widget="many2many_tags" invisible="1"/>
                            <field name="required_sub_sale_document_requirement_ids" widget="many2many_tags"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="property_sale_sub_status_action_form" model="ir.actions.act_window">
            <field name="name">Sale Sub-Stages</field>
            <field name="res_model">property.sale.sub.status</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_property_sale_sub_status" parent="menu_properties_settings"
                  action="property_sale_sub_status_action_form" sequence="11"/>

        <record id="property_sale_required_document_view_tree" model="ir.ui.view">
            <field name="name">property.sale.required.document.tree</field>
            <field name="model">property.sale.required.document</field>
            <field name="arch" type="xml">
                <tree string="property_sale_required_document_tree" editable="top">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="group_code"/>
                    <field name="code"/>
                    <field name="submitted_by_buyer"/>
                    <field name="employment_status_id"/>
                    <field name="optional_requirement"/>
                    <field name="description"/>
                    <field name="note"/>
                    <field name="preview_file"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_required_document_action_form" model="ir.actions.act_window">
            <field name="name">Required Documents</field>
            <field name="res_model">property.sale.required.document</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_property_sale_required_document" parent="menu_properties_settings"
                  action="property_sale_required_document_action_form" sequence="12"/>

        <record id="property_sale_downloadable_document_view_tree" model="ir.ui.view">
            <field name="name">property.sale.downloadable.document.tree</field>
            <field name="model">property.sale.downloadable.document</field>
            <field name="arch" type="xml">
                <tree string="Downloadable Documents" editable="top">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="attachment_file"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_downloadable_document_action_form" model="ir.actions.act_window">
            <field name="name">Downloadable Documents</field>
            <field name="res_model">property.sale.downloadable.document</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_property_sale_downloadable_document" parent="menu_properties_settings"
                  action="property_sale_downloadable_document_action_form" sequence="12"/>

        <record id="property_sale_cancellation_reason_view_tree" model="ir.ui.view">
            <field name="name">property.sale.cancellation.reason.tree</field>
            <field name="model">property.sale.cancellation.reason</field>
            <field name="arch" type="xml">
                <tree string="property_sale_cancellation_reason_tree" editable="top" create="false">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="description"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_cancellation_reason_action_form" model="ir.actions.act_window">
            <field name="name">Account Cancellation Reason</field>
            <field name="res_model">property.sale.cancellation.reason</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_property_sale_cancellation_reason" parent="menu_properties_settings"
                  action="property_sale_cancellation_reason_action_form" sequence="13"/>


        <record id="property_sale_crecom_reject_reason_view_tree" model="ir.ui.view">
            <field name="name">property.sale.crecom.reject.reason.tree</field>
            <field name="model">property.sale.crecom.reject.reason</field>
            <field name="arch" type="xml">
                <tree string="CreCom Cancellation Reason tree" editable="top">
                    <field name="name"/>
                    <field name="description"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_crecom_reject_reason_action_form" model="ir.actions.act_window">
            <field name="name">CreCom Cancellation Reason</field>
            <field name="res_model">property.sale.crecom.reject.reason</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_property_sale_crecom_reject_reason" parent="menu_properties_settings"
                  action="property_sale_crecom_reject_reason_action_form" sequence="14"/>



        <record id="property_document_submission_line_view_form" model="ir.ui.view">
            <field name="name">property.document.submission.line.form</field>
            <field name="model">property.document.submission.line</field>
            <field name="arch" type="xml">
                <form string="property_document_submission_line_form" create="false" delete="false">
                    <sheet>
                        <div class="oe_title">
                            <label for="document_id" class="oe_edit_only"/>
                            <h1>
                                <field name="document_id" readonly="1"/>
                            </h1>
                            <div>
                                <label for="property_sale_id" class="oe_inline"/>
                                <field name="property_sale_id" class="oe_inline oe_input_align" readonly="1" force_save="1"/>
                            </div>
                        </div>
                        <group>
                            <group>
                                <field name="validation_date"/>
                            </group>
                            <group>
                                <field name="expiry_date"/>
                            </group>
                        </group>
                        <group string="Notes">
                            <field name="note" widget="html" nolabel="1" colspan="1"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="property_document_submission_line_view_tree" model="ir.ui.view">
            <field name="name">property.document.submission.line.tree</field>
            <field name="model">property.document.submission.line</field>
            <field name="arch" type="xml">
                <tree string="property_document_submission_line_form" create="false" delete="false">
                    <field name="property_sale_id"/>
                    <field name="document_id"/>
                    <field name="validation_date"/>
                    <field name="expiry_date"/>
                </tree>
            </field>
        </record>

        <record id="property_document_submission_line_view_activity" model="ir.ui.view">
            <field name="name">property.document.submission.line.activity</field>
            <field name="model">property.document.submission.line</field>
            <field name="arch" type="xml">
                <activity string="property_document_submission_line">
                    <templates>
                        <div t-name="activity-box">
                            <div>
                                <field name="document_id" display="full"/>
                                <field name="property_sale_id" muted="1" display="full"/>
                                <field name="note" widget="html" display="full"/>
                            </div>
                        </div>
                    </templates>
                </activity>
            </field>
        </record>

        <record id="property_document_submission_line_view_filter" model="ir.ui.view">
            <field name="name">property.document.submission.line.filter</field>
            <field name="model">property.document.submission.line</field>
            <field name="arch" type="xml">
                <search string="property_document_submission_line_filter">
                    <field name="property_sale_id"/>
                    <field name="document_id"/>
                    <field name="validation_date"/>
                    <field name="expiry_date"/>
                    <field name="note"/>
                    <filter name="filter_expiry_date" date="expiry_date" string="Expiring Documents"/>
                    <group expand="0" string="Group By">
                        <filter name="group_property_sale_id" string="Property Sale" domain="[]"
                                context="{'group_by': 'property_sale_id'}"/>
                        <filter name="group_document_id" string="Document" domain="[]"
                                context="{'group_by': 'document_id'}"/>
                        <filter name="group_expiry_date" string="Expiry Date" domain="[]"
                                context="{'group_by': 'expiry_date:month'}"/>
                    </group>
                    <searchpanel>
                        <field name="document_id"/>
                    </searchpanel>
                </search>
            </field>
        </record>

        <record id="property_document_submission_line_action_form" model="ir.actions.act_window">
            <field name="name">Submitted Documents</field>
            <field name="res_model">property.document.submission.line</field>
            <field name="view_mode">tree,form,activity</field>
            <field name="context">{'search_group_property_sale_id': 1}</field>
        </record>

        <record id="property_document_submission_line_open_action_form" model="ir.actions.act_window">
            <field name="name">Submitted Documents</field>
            <field name="res_model">property.document.submission.line</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('property_sale_id', '=', active_id)]</field>
        </record>

        <record id="property_sale_credit_committee_approval_open_action" model="ir.actions.act_window">
            <field name="name">Credit Committee Approval</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">property.sale.credit.committee.approval</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('property_sale_id', '=', active_id)]</field>
            <field name="context">{'default_property_sale_id': active_id}</field>
        </record>

        <menuitem id="menu_property_document_submission_line" parent="menu_property_sale_monitoring"
                  action="property_document_submission_line_action_form" sequence="2"/>

        <record id="property_sale_bank_loan_application_view_form" model="ir.ui.view">
            <field name="name">property.sale.bank.loan.application.form</field>
            <field name="model">property.sale.bank.loan.application</field>
            <field name="arch" type="xml">
                <form string="Bank Loan Application">
                    <header>
                        <field name="state" widget="statusbar" options="{'clickable': '1'}"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="bank_id" class="oe_edit_only" string="Bank"/>
                            <h1>
                                <field name="bank_id"/>
                            </h1>
                            <div class="oe_edit_only" groups="base.group_multi_company">
                                <label for="company_id" class="oe_inline"/>
                                <field name="company_id" class="oe_inline oe_input_align"/>
                                <field name="currency_id" invisible="1"/>
                            </div>
                            <div>
                                <label for="property_sale_id" class="oe_inline"/>
                                <field name="property_sale_id" class="oe_inline oe_input_align"/>
                            </div>
                        </div>
                        <group>
                            <group>
                                <field name="desired_loan_amount"/>
                                <field name="approved_loan_amount"/>
                                <field name="bank_fee"/>
                                <field name="net_proceeds"/>
                            </group>
                            <group>
                                <field name="submission_date"/>
                                <field name="approved_date"/>
                                <field name="valid_until"/>
                                <label for="declined_date"/>
                                <div>
                                    <field name="declined_date" class="oe_inline"/>
                                    <field name="declined_reason" class="oe_inline"/>
                                </div>
                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="property_sale_bank_loan_application_view_tree" model="ir.ui.view">
            <field name="name">property.sale.bank.loan.application.tree</field>
            <field name="model">property.sale.bank.loan.application</field>
            <field name="arch" type="xml">
                <tree string="Bank Loan Application">
                    <field name="bank_id"/>
                    <field name="property_sale_id"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="desired_loan_amount"/>
                    <field name="approved_loan_amount"/>
                    <field name="approved_date"/>
                    <field name="valid_until"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="property_sale_bank_loan_application_view_filter" model="ir.ui.view">
            <field name="name">property.sale.bank.loan.application.filter</field>
            <field name="model">property.sale.bank.loan.application</field>
            <field name="arch" type="xml">
                <search string="Bank Loan Application">
                    <field name="bank_id"/>
                    <field name="property_sale_id"/>
                    <field name="declined_reason"/>
                    <field name="state"/>
                    <group expand="0" string="Group By">
                        <filter name="group_company_id" string="Company" domain="[]"
                                context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
                        <filter name="group_bank_id" string="Bank" domain="[]"
                                context="{'group_by': 'bank_id'}"/>
                        <filter name="group_property_sale_id" string="Property Sale" domain="[]"
                                context="{'group_by': 'property_sale_id'}"/>
                        <filter name="group_state" string="Status" domain="[]" context="{'group_by': 'state'}"/>
                    </group>
                    <searchpanel>
                        <field name="company_id" groups="base.group_multi_company" icon="fa-building"/>
                        <field name="bank_id" icon="fa-university"/>
                    </searchpanel>
                </search>
            </field>
        </record>

        <record id="property_sale_bank_loan_application_action_form" model="ir.actions.act_window">
            <field name="name">Bank Loan Application</field>
            <field name="res_model">property.sale.bank.loan.application</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_group_state': 1}</field>
        </record>

        <menuitem id="menu_property_sale_bank_loan_application" parent="menu_property_sale_monitoring"
                  action="property_sale_bank_loan_application_action_form" sequence="2"/>

        <record id="property_ledger_payment_history_action_form" model="ir.actions.act_window">
            <field name="name">Payments</field>
            <field name="res_model">property.ledger.payment.item</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('property_sale_id', '=', active_id)]</field>
        </record>

        <record id="property_sale_statement_of_account_history_action_form" model="ir.actions.act_window">
            <field name="name">Statement Of Accounts</field>
            <field name="res_model">property.sale.statement.of.account</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('property_sale_id', '=', active_id)]</field>
        </record>

        <record id="property_sale_bank_loan_application_open" model="ir.actions.act_window">
            <field name="name">Bank Loan Application</field>
            <field name="res_model">property.sale.bank.loan.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('property_sale_id', '=', active_id)]</field>
        </record>

        <record id="property_admin_sale_view_form" model="ir.ui.view">
            <field name="name">property.admin.sale.pivot</field>
            <field name="model">property.admin.sale</field>
            <field name="arch" type="xml">
                <pivot string="Property Admin Sale List">
                    <field name="brand" type="row"/>
                    <field name="subdivision_phase_id" type="row"/>
                    <field name="stage_id" type="col"/>
                </pivot>
            </field>
        </record>

        <record id="property_admin_sale_view_form" model="ir.ui.view">
            <field name="name">property.admin.sale.form</field>
            <field name="model">property.admin.sale</field>
            <field name="arch" type="xml">
                <form string="Property Admin Sale Form">
                    <header>
                        <button string="For Cancellation" type="action"
                                attrs="{'invisible': ['|', ('for_cancellation', '=', True), ('cancellation_date', 'not in', [False])]}"
                                icon="fa-ban"
                                name="%(property_request_account_cancel_action_wizard)d" class="oe_highlight"/>
                        <button help="Move to Previous Stage" type="object" confirm="Are you sure? Please note once you click 'OK' there is no Turning Back."
                                attrs="{'invisible': ['|', '|', ('for_cancellation', '=', True), ('cancellation_date', 'not in', [False]),('stage_id', '!=', 2)]}"
                                name="move_to_previous_stage" class="oe_highlight" icon="fa-step-backward"/>
                        <button help="Move to the Next Stage" type="object" confirm="Are you sure? Please note once you click 'OK' there is no Turning Back."
                                attrs="{'invisible': ['|', ('for_cancellation', '=', True), ('cancellation_date', 'not in', [False])]}"
                                name="move_to_next_stage" class="oe_highlight" icon="fa-step-forward"/>
                        <button string="Check Request Convert to CS Status" type="object"
                                attrs="{'invisible': ['|', ('contracted_sale_date', 'not in', [False]), ('ready_for_contracted_sale', '=', False)]}"
                                name="check_for_contracted_sale_request_status" class="oe_link"
                                icon="fa-hourglass-half"/>
                        <button string="Release Adv-Com" type="object" confirm="Are you sure? Please note once you click 'OK' there is no Turning Back."
                                attrs="{'invisible': ['|', '|', ('request_released_commission', '=', True), ('for_cancellation', '=', True), ('cancellation_date', 'not in', [False])]}"
                                name="set_release_advance_commission" class="oe_highlight" icon="fa-check-square-o"/>
                        <button string="Check Adv-Com Status" type="object"
                                attrs="{'invisible': ['|', ('request_released_commission', '=', False), ('released_commission', '=', True)]}"
                                name="check_release_advance_commission" class="oe_link" icon="fa-hourglass-half"/>
                        <field name="stage_id" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div name="button_box">
                            <button class="oe_stat_button" type="object"
                                    name="action_open_helpdesk_ticket" context="{'default_so_number': so_number}"
                                    icon="fa-life-ring" attrs="{'invisible': [('ticket_count', '=', 0)]}">
                                <div class="o_stat_info">
                                    <field name="ticket_count" class="o_stat_value"/>
                                    <span class="o_stat_text"> Tickets</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="action"
                                    name="%(property_sale_credit_committee_approval_open_action)d"
                                    icon="fa-credit-card-alt">
                                <div class="o_stat_info">
                                    <span class="o_stat_text"> Request For Credit Committee Approval</span>
                                </div>
                            </button>
                        </div>
                        <div class="oe_title">
                            <field name="priority" widget="priority"/>
                            <h1>
                                <field name="name" invisible="1"/>
                                <span class="o_row">SO#<field name="so_number" class="oe_inline"/></span>
                            </h1>
                            <div name="project_name">
                                <label for="subdivision_phase_id" class="oe_inline"/>
                                [<field name="be_code" class="oe_inline oe_input_align" readonly="1" force_save="1"/>]
                                <field name="subdivision_phase_id" class="oe_inline oe_input_align"
                                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                            </div>
                            <div name="property_id">
                                <label for="property_id" class="oe_inline"/>
                                <field name="property_id" class="oe_inline oe_input_align"
                                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                            </div>
                            <div name="house_model_id"
                                 attrs="{'invisible': [('house_model_id', '=', False)]}">
                                <label for="house_model_id" class="oe_inline"/>
                                <field name="house_model_id" class="oe_inline oe_input_align"/>
                            </div>
                            <div name="house_model_description">
                                <label for="house_model_description" class="oe_inline"/>
                                <field name="house_model_description" class="oe_inline oe_input_align"/>
                            </div>
                        </div>
                        <group>
                            <group>
                                <field name="universal_assign_number" required="1"/>
                                <field name="partner_id" options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                                <field name="customer_number"/>
                                <field name="employment_status_id" required="1" readonly="1" force_save="1"/>
                                <field name="company_id" groups="base.group_multi_company"
                                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                                <field name="company_code" required="1"/>
                                <field name="brand"/>
                                <field name="currency_id" invisible="1"/>
                                <label for="account_officer_user_id"/>
                                <div>
                                    [<field name="ao_assigned_date" class="oe_inline" readonly="1"/>]
                                    <field name="account_officer_user_id" class="oe_inline"
                                           options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                                </div>
                                <label for="collection_officer_user_id"/>
                                <div>
                                    [<field name="co_assigned_date" class="oe_inline" readonly="1"/>]
                                    <field name="collection_officer_user_id" class="oe_inline"
                                           options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                                </div>
                            </group>
                            <group>
                                <field name="sub_stage_id" domain="[('sub_parent_id', '=', stage_id)]"
                                       widget="statusbar" options="{'clickable': '1'}"/>
                                <label for="ready_for_contracted_sale"
                                       attrs="{'invisible': [('ready_for_contracted_sale', '=', False)]}"/>
                                <div attrs="{'invisible': [('ready_for_contracted_sale', '=', False)]}">
                                    <field name="ready_for_contracted_sale" class="oe_inline"/>
                                    <field name="for_contracted_sale_user_id" class="oe_inline"/>
                                    <field name="ready_for_contracted_sale_date" class="oe_inline"/>
                                    <field name="db_for_contracted_sale_log"/>
                                </div>
                                <field name="contracted_sale_date"
                                       attrs="{'invisible': [('contracted_sale_date', '=', False)]}"/>
                                <field name="db_for_contracted_sale_tracker" invisible="1"/>

                                <field name="released_commission" invisible="1"/>
                                <field name="request_released_commission" invisible="1"/>
                                <field name="db_release_commission_log"
                                       attrs="{'invisible': [('db_release_commission_tracker', 'not in', [0])]}"/>
                                <field name="db_release_commission_tracker" invisible="1"/>

                                <label for="for_cancellation"
                                       attrs="{'invisible': [('for_cancellation', '=', False)]}"/>
                                <div attrs="{'invisible': [('for_cancellation', '=', False)]}">
                                    <field name="for_cancellation" class="oe_inline"/>
                                    <field name="for_cancellation_date" class="oe_inline"/>
                                    <field name="for_cancellation_user_id" class="oe_inline" readonly="1"/>
                                    <button string="Check Account Cancellation Status" type="object"
                                            attrs="{'invisible': ['|', '|', ('for_cancellation', '=', False), ('cancellation_date', 'not in', [False]), ('db_cancellation_tracker', 'in', [False, 0])]}"
                                            name="check_cancellation_request_status" class="oe_link"
                                            icon="fa-hourglass-half"/>
                                </div>
                                <label for="cancellation_reason_id"
                                       attrs="{'invisible': [('for_cancellation', '=', False), ('cancellation_reason_id','in', [False])]}"/>
                                <div attrs="{'invisible': [('for_cancellation', '=', False), ('cancellation_reason_id','in', [False])]}">
                                    [<field name="cancellation_reason_code" class="oe_inline" readonly="1"
                                            force_save="1"/>]
                                    <field name="cancellation_reason_id" class="oe_inline"/>
                                </div>
                                <field name="db_cancellation_tracker" invisible="1"
                                       attrs="{'invisible': [('for_cancellation', '=', False)]}"/>
                                <field name="before_cancelled_stage_id" invisible="1"
                                       attrs="{'invisible': [('for_cancellation', '=', False), ('cancellation_reason_id','in', [False])]}"/>
                                <label for="cancellation_date"
                                       attrs="{'invisible': [('cancellation_date', '=', False), ('cancellation_reason_id','in', [False])]}"/>
                                <div attrs="{'invisible': [('cancellation_date', '=', False), ('cancellation_reason_id','in', [False])]}">
                                    <field name="cancellation_date" class="oe_inline" readonly="1"/>
                                    <field name="db_cancellation_log" class="oe_inline" readonly="1"/>
                                </div>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="reservation_fee"/>
                                <field name="dp_percent"/>
                                <field name="dp_amount"/>
                                <field name="dp_terms"/>
                                <field name="dp_monthly"/>
                                <field name="first_dp_due_date"/>
                                <field name="first_dp_due_paid"/>
                            </group>
                            <group>
                                <field name="loanable_amount"/>
                                <field name="financing_type"/>
                                <field name="financing_terms"/>
                                <field name="interest_rates"/>
                                <field name="la_interest" invisible="1"/>
                                <field name="monthly_amortization"/>
                            </group>
                        </group>
                        <group string="Other Sync Notes">
                            <field name="other_note" nolabel="1"/>
                        </group>
                        <notebook>
                            <page name="document_checklist" string="Document Checklist">
                                <div class="oe_button_box" name="button_box_payment">
                                    <button name="open_gdrive_link" invisible="1"
                                            string="Open GDrive" type="object" class="oe_stat_button" icon="fa-google">
                                    </button>
                                    <button name="open_one_drive_link" attrs="{'invisible': [('one_drive_link', '=', False)]}"
                                            string="Open Cloud Storage" type="object" class="oe_stat_button" icon="fa-cloud">
                                    </button>
                                    <button name="%(property_sale_validate_submitted_docs_action_wizard)d"
                                            string="Validate Documents" type="action" class="oe_stat_button">
                                    </button>
                                    <button name="%(property_document_submission_line_open_action_form)d"
                                            string="Document Notes"
                                            type="action" class="oe_stat_button"/>
                                    <button name="update_so_submitted_documents"
                                            string="Refresh Document List" help="Refresh Document List Submitted Tagged in SAP" type="object" class="oe_stat_button" icon="fa-retweet">
                                    </button>
                                </div>
                                <field name="document_requirement_list_ids" widget="many2many_checkboxes"
                                       invisible="1"/>
                                <group>
                                    <group>
                                        <field name="sale_document_requirement_ids" nolabel="1" colspan="2" readonly="1" force_save="1"
                                               domain="[('id', 'in', document_requirement_list_ids)]"
                                               widget="many2many_checkboxes"/>
                                        <field name="gdrive_link" widget="url" invisible="1"/>
                                        <field name="one_drive_link" widget="url" string="1-Drive File Link" invisible="1"/>
                                    </group>
                                    <group>
                                        <field name="so_gdrive_link" widget="url" invisible="1"/>
                                        <field name="so_one_drive_link" widget="url" string="SO Cloud Storage Link"/>
                                        <field name="doc_submission_due_date"/>
                                        <field name="doc_submission_due_date_reminder"/>
                                        <field name="stage_document_requirement_list_ids" invisible="1"/>
                                        <div class="card border-info" colspan="2">
                                            <div class="card-header">Document Requirements</div>
                                            <div class="card-body text-primary">
                                                <h4 class="card-title">For the Current Sale Status</h4>
                                                <p class="card-text"><field name="stage_document_list"/></p>
                                            </div>
                                        </div>
                                    </group>
                                </group>
                            </page>
                            <page name="property_detail" string="Property Details">
                                <group>
                                    <group>
                                        <field name="be_code"/>
                                        <field name="su_number"/>
                                        <field name="block_lot"/>
                                        <field name="property_type"/>
                                        <field name="model_type_id" invisible="1"/>
                                        <field name="unit_type"/>
                                        <field name="house_series"/>
                                        <field name="model_unit_type_id"/>
                                        <field name="category"/>
                                        <label for="lot_area"
                                               attrs="{'invisible': [('property_type', 'not in', ['House and Lot', 'House Only'])]}"/>
                                        <div class="oe_inline"
                                             attrs="{'invisible': [('property_type', 'not in', ['House and Lot', 'House Only'])]}">
                                            <field name="lot_area" class="oe_inline"/>
                                            <span class="oe_inline">m²</span>
                                        </div>
                                        <label for="lot_area_price"
                                               attrs="{'invisible': [('property_type', 'not in', ['House and Lot', 'House Only'])]}"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <div class="oe_inline"
                                             attrs="{'invisible': [('property_type', 'not in', ['House and Lot', 'House Only'])]}"
                                             groups="property_admin_monitoring.group_property_admin,account.group_account_manager">
                                            <field name="lot_area_price" class="oe_inline"/>
                                            <span class="oe_inline">/m²</span>
                                        </div>
                                        <label for="floor_area"/>
                                        <div>
                                            <field name="floor_area" class="oe_inline"/>
                                            <span class="oe_inline">m²</span>
                                        </div>
                                        <label for="floor_area_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <div class="oe_inline"
                                             groups="property_admin_monitoring.group_property_admin,account.group_account_manager">
                                            <field name="floor_area_price" class="oe_inline"/>
                                            <span class="oe_inline">
                                                /m²
                                            </span>
                                        </div>
                                        <label for="miscellaneous_charge" string="Miscellaneous Charge"
                                               attrs="{'invisible': [('property_type', 'not in', ['House and Lot', 'House Only'])]}"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <div class="oe_inline"
                                             attrs="{'invisible': [('property_type', 'not in', ['House and Lot', 'House Only'])]}"
                                             groups="property_admin_monitoring.group_property_admin,account.group_account_manager">
                                            <field name="miscellaneous_charge" class="oe_inline"/>
                                            <span class="oe_inline">
                                                %
                                            </span>
                                        </div>
                                        <field name="miscellaneous_value" class="oe_inline"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                    </group>
                                    <group>
                                        <field name="condo_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="premium_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="house_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="house_repair_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="parking_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="lot_price"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="miscellaneous_amount"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="ntcp"
                                               groups="property_admin_monitoring.group_property_admin,account.group_account_manager"/>
                                        <field name="vat"/>
                                        <field name="tcp"/>
                                        <field name="price_range_id"/>
                                    </group>
                                </group>
                            </page>
                            <page name="sale_detail" string="Sales Details">
                                <group>
                                    <group>
                                        <field name="reservation_date"/>
                                        <field name="so_date"/>
                                        <label for="recontract_rs_date"/>
                                        <div>
                                            <field name="recontracted_one" class="oe_inline"/>
                                            <field name="recontract_rs_date" class="oe_inline" invisible="1"/>
                                            <field name="recontracted_so_number" class="oe_inline"
                                                   placeholder="Recontracted SO Ref."
                                                   attrs="{'invisible': [('recontracted_one', '=', False)]}"/>
                                        </div>
                                        <label for="recontract_rs_date2"/>
                                        <div>
                                            <field name="recontracted_two" class="oe_inline"/>
                                            <field name="recontract_rs_date2" class="oe_inline" invisible="1"/>
                                            <field name="recontracted_so_number2" class="oe_inline"
                                                   placeholder="Recontracted SO Ref."
                                                   attrs="{'invisible': [('recontracted_two', '=', False)]}"/>
                                        </div>
                                        <label for="buyback"/>
                                        <div>
                                            <field name="buyback" class="oe_inline"/>
                                            <field name="buyback_date" class="oe_inline" placeholder="Buyback Date"
                                                   attrs="{'invisible': [('buyback', '=', False)]}"/>
                                            <field name="buyback_reason" class="oe_inline" placeholder="Buyback Reason"
                                                   attrs="{'invisible': [('buyback', '=', False)]}"/>
                                        </div>
                                    </group>
                                    <group>
                                        <field name="agent_position" class="oe_inline"/>
                                        <label for="agent_partner_id"/>
                                        <div>
                                            <field name="agent_partner_id" class="oe_inline"/> [<field
                                                name="agent_unique_number" class="oe_inline"/>]
                                        </div>
                                        <label for="agent_commission_rate"/>
                                        <div>
                                            <field name="agent_commission_rate" class="oe_inline"/>%
                                        </div>
                                        <field name="agent_commission_value" class="oe_inline"/>
                                    </group>
                                </group>
                            </page>
                            <page name="payments_and_soa" string="SOA and Payments">
                                <div class="oe_button_box" name="button_box_payment">
                                    <button name="action_view_payments" string="Payments"
                                            type="object" class="oe_stat_button" icon="fa-credit-card"/>
                                    <button name="%(property_sale_statement_of_account_history_action_form)d"
                                            string="SOA" type="action" class="oe_stat_button" icon="fa-calendar"/>
                                </div>
                                <group string="Payment Summary">
                                    <group>
                                        <field name="tcp"/>
                                        <field name="outstanding_balance"/>
                                    </group>
                                    <group>
                                        <field name="total_principal_amount_paid"/>
                                        <field name="total_interest_amount_paid"/>
                                        <field name="total_penalty_paid"/>
                                        <field name="grand_total_paid"/>
                                    </group>
                                </group>
                                <group>
                                    <group string="Statement of Account">
                                        <field name="soa_id"/>
                                        <field name="soa_number" invisible="1"/>
                                        <field name="soa_date_generated"/>
                                        <field name="soa_date"/>
                                        <field name="soa_due_date"/>
                                        <field name="soa_current_amount"/>
                                        <field name="soa_past_due"/>
                                        <field name="soa_penalty"/>
                                        <field name="soa_total_amount_due"/>
                                        <field name="soa_past_due_count"/>
                                    </group>
                                    <group string="Cancellation Notice Status">
                                        <label for="first_letter" help="Demand To Pay"/>
                                        <div>
                                            <field name="first_letter" class="oe_inline"/>
                                            <field name="first_letter_sent" help="Demand To Pay Letter Sent Date"
                                                   class="oe_inline"
                                                   attrs="{'invisible': [('first_letter', '=', False)]}"/>
                                            <field name="first_letter_received"
                                                   help="Demand To Pay Letter Received by Customer Date"
                                                   class="oe_inline"
                                                   attrs="{'invisible': ['|', ('first_letter', '=', False), ('first_letter_sent', 'in', [False])]}"/>
                                        </div>
                                        <label for="second_letter" help="Notice of Delinquency and Cancellation"/>
                                        <div>
                                            <field name="second_letter" class="oe_inline"/>
                                            <field name="second_letter_sent"
                                                   help="Notice of Delinquency and Cancellation Sent Date"
                                                   class="oe_inline"
                                                   attrs="{'invisible': [('second_letter', '=', False)]}"/>
                                            <field name="second_letter_received"
                                                   help="Notice of Delinquency and Cancellation Received by Customer Date"
                                                   class="oe_inline"
                                                   attrs="{'invisible': ['|', ('second_letter', '=', False), ('second_letter_sent', 'in', [False])]}"/>
                                        </div>
                                        <label for="third_letter" help="Demand to Vacate/Notice of Takeover"/>
                                        <div>
                                            <field name="third_letter" class="oe_inline"/>
                                            <field name="third_letter_sent"
                                                   help="Demand to Vacate/Notice of Takeover Sent Date"
                                                   class="oe_inline"
                                                   attrs="{'invisible': [('third_letter', '=', False)]}"/>
                                            <field name="third_letter_received"
                                                   help="Demand to Vacate/Notice of Takeover Received by Customer Date"
                                                   class="oe_inline"
                                                   attrs="{'invisible': ['|', ('third_letter', '=', False), ('third_letter_sent', 'in', [False])]}"/>
                                        </div>
                                    </group>
                                </group>
                            </page>
                            <page name="loan_processing" string="Loan Processing"
                                  attrs="{'invisible': [('financing_type', 'in', ['B01', 'DEF', 'OFF', 'RET', 'RTD', 'SPT'])]}">
                                <div class="oe_button_box" name="button_box_payment">
                                    <button name="%(property_sale_bank_loan_application_open)d"
                                            type="action" class="oe_stat_button" icon="fa-university"
                                            context="{
                                                'search_default_group_state': 1,
                                                'default_property_sale_id': active_id,
                                                'default_company_id': company_id,
                                                'default_desired_loan_amount': loan_desired_amount}"
                                            attrs="{'invisible': [('financing_type', 'not in', ['BNK', 'RTB'])]}">
                                        <field name="loan_application_count" widget="statinfo"
                                               string="Bank Application"/>
                                    </button>
                                </div>
                                <group>
                                    <group>
                                        <field name="loan_application_date"/>
                                        <field name="processor"/>
                                        <field name="loan_desired_amount"/>
                                    </group>
                                    <group>
                                        <field name="if_type"
                                               attrs="{'invisible': [('financing_type', 'not in', ['INH', 'MSI', 'RTI'])]}"/>
                                        <label for="if_cwt_paid"
                                               attrs="{'invisible': [('financing_type', 'not in', ['INH', 'MSI', 'RTI'])]}"/>
                                        <div>
                                            <field name="if_cwt_paid"/>
                                            <field name="if_cwt_paid_date" class="oe_inline"
                                                   attrs="{'invisible': [('if_cwt_paid', '=', False)]}"/>
                                        </div>
                                    </group>
                                </group>
                                <group attrs="{'invisible': [('financing_type', 'not in', ['BNK', 'RTB'])]}">
                                    <group>
                                        <field name="selected_bank_application_id"
                                               options="{'no_quick_create': True, 'no_create_edit' : True}"
                                               domain="[('property_sale_id', '=', active_id), ('state', '=', 'approved'), ('active', '=', True)]"/>
                                        <field name="approved_date"/>
                                        <field name="valid_until"/>
                                        <field name="loan_released_date"/>
                                        <field name="log_status"/>
                                    </group>
                                    <group>
                                        <field name="bank_id"/>
                                        <field name="approved_loan_amount"/>
                                        <field name="loan_excess_difference_amount"/>
                                        <field name="bank_fee"/>
                                        <field name="net_proceeds"/>
                                    </group>
                                </group>
                                <group attrs="{'invisible': [('financing_type', 'not in', ['BNK', 'RTB'])]}">
                                    <group>
                                        <label for="lr_incentive"/>
                                        <div>
                                            <field name="lr_incentive" class="oe_inline"/>
                                            <field name="lr_incentive_amount" help="Incentive Amount"
                                                   class="oe_inline"/>
                                            <field name="lr_incentive_status" help="Incentive Status"
                                                   class="oe_inline"/>
                                        </div>
                                    </group>
                                    <group/>
                                </group>
                                <group attrs="{'invisible': [('financing_type', 'not in', ['PIF'])]}">
                                    <group string="Credit Investigation">
                                        <label for="credit_investigation_state"/>
                                        <div>
                                            <field name="credit_investigation_state" class="oe_inline"
                                                   widget="statusbar" options="{'clickable': '1'}"/>
                                            <field name="completion_date" class="oe_inline"
                                                   attrs="{'invisible': [('credit_investigation_state', 'not in', ['verified'])],
                                                            'required': [('credit_investigation_state', 'in', ['verified'])]}"/>
                                        </div>
                                        <field name="ci_advance_date"/>
                                        <field name="ci_folder_delivery_date"/>
                                        <field name="ci_notice_approval_date"/>
                                        <field name="ci_notice_declined_date"/>
                                        <field name="ci_note"/>
                                    </group>
                                    <group>
                                        <field name="borrower_validation_seminar_date"/>
                                        <field name="bvs_attendance_sheet"/>
                                        <field name="bvs_signed"/>
                                        <field name="members_saving_validation_system"/>
                                        <field name="msvs_date_approved"/>
                                        <separator string="Electronic Processing Entry Book" colspan="2"/>
                                        <field name="epeb_endorsement_date"/>
                                        <field name="epeb_title_released_date"/>
                                        <field name="epeb_title_number"/>
                                    </group>
                                </group>
                                <group attrs="{'invisible': [('financing_type', 'not in', ['PIF'])]}">
                                    <group>
                                        <field name="pif_loan_status"
                                               widget="statusbar" options="{'clickable': '1'}"/>
                                        <field name="pif_to_date"
                                               attrs="{'invisible': [('pif_loan_status', 'not in', ['taken_out'])],
                                                        'required': [('pif_loan_status', 'in', ['taken_out'])]}"/>
                                        <field name="pif_loan_approved_amount"
                                               attrs="{'invisible': [('pif_loan_status', 'not in', ['taken_out'])],
                                                        'required': [('pif_loan_status', 'in', ['taken_out'])]}"/>
                                        <label for="pif_deduction"/>
                                        <div attrs="{'invisible': [('pif_loan_status', 'not in', ['taken_out'])]}">
                                            <field name="pif_deduction" class="oe_inline"/>
                                            <field name="pif_deduction_notes" class="oe_inline"/>
                                        </div>
                                        <field name="pif_net_proceeds"
                                               attrs="{'invisible': [('pif_loan_status', 'not in', ['taken_out'])],
                                                        'required': [('pif_loan_status', 'in', ['taken_out'])]}"/>
                                        <field name="pif_declined_date"
                                               attrs="{'invisible': [('pif_loan_status', 'not in', ['declined','shifted'])],
                                                        'required': [('pif_loan_status', 'in', ['declined'])]}"/>
                                        <field name="pif_declined_notes"
                                               attrs="{'invisible': [('pif_loan_status', 'not in', ['declined','shifted'])]}"/>
                                    </group>
                                    <group string="Property Inspection">
                                        <field name="pif_inspection_ids" nolabel="1" colspan="2">
                                            <tree string="PIF Property Inspection" editable="top">
                                                <field name="inspection_date"/>
                                                <field name="feedback"/>
                                                <field name="passed"/>
                                                <field name="failed_remark"/>
                                            </tree>
                                        </field>
                                    </group>
                                </group>
                            </page>
                            <page name="log" string="Logs">
                                <group>
                                    <group>
                                        <field name="moved_stage_datetime"/>
                                        <field name="stage_age"/>
                                    </group>
                                    <group>
                                        <field name="moved_sub_stage_datetime"/>
                                        <field name="sub_stage_age"/>
                                    </group>
                                </group>
                                <group name="status_log" string="Status Logs">
                                    <field name="status_log_ids" nolabel="1" colspan="2">
                                        <tree string="Status Log" editable="top">
                                            <field name="status"/>
                                            <field name="status_from"/>
                                            <field name="date_from"/>
                                            <field name="date_to"/>
                                            <field name="total_days"/>
                                            <field name="status_type"/>
                                            <field name="account_officer_user_id"/>
                                            <field name="collection_officer_user_id"/>
                                            <field name="user_id"/>
                                        </tree>
                                    </field>
                                </group>
                                <group name="assignment_log" string="Assignment Logs">
                                    <field name="assignment_log_ids" nolabel="1" colspan="2">
                                        <tree string="Assignment Logs" editable="top">
                                            <field name="account_officer_user_id"/>
                                            <field name="collection_officer_user_id"/>
                                            <field name="stage_id"/>
                                            <field name="sub_stage_id"/>
                                            <field name="user_id"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="property_admin_sale_view_kanban" model="ir.ui.view">
            <field name="name">property.admin.sale.kanban</field>
            <field name="model">property.admin.sale</field>
            <field name="arch" type="xml">
                <kanban default_group_by="stage_id" class="o_kanban_small_column" quick_create="false"
                        group_create="false" archivable="false" disable_drag_drop_record='true'>
                    <field name="partner_id"/>
                    <field name="account_officer_user_id"/>
                    <field name="name"/>
                    <field name="so_number"/>
                    <field name="property_id"/>
                    <field name="be_code"/>
                    <field name="subdivision_phase_id"/>
                    <field name="house_model_id"/>
                    <field name="stage_id"/>
                    <field name="sub_stage_id"/>
                    <field name="message_needaction_counter"/>
                    <field name="activity_state"/>
                    <field name="activity_ids"/>
                    <field name="priority"/>
                    <field name="color"/>
                    <progressbar field="activity_state"
                                 colors='{"planned": "success", "today": "warning", "overdue": "danger"}'
                                 sum_field="planned_revenue"
                                 help="This bar allows to filter the data based on scheduled activities."/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="#{!selection_mode ? kanban_color(record.color.raw_value) : ''} oe_kanban_global_click">
                                <div class="o_dropdown_kanban dropdown">
                                    <a class="dropdown-toggle o-no-caret btn" role="button" data-toggle="dropdown"
                                       data-display="static" href="#" aria-label="Dropdown menu" title="Dropdown menu">
                                        <span class="fa fa-ellipsis-v"/>
                                    </a>
                                    <div class="dropdown-menu" role="menu">
                                        <t t-if="widget.editable"><a role="menuitem" type="edit" class="dropdown-item">
                                            Edit</a></t>
                                        <t t-if="widget.deletable"><a role="menuitem" type="delete"
                                                                      class="dropdown-item">Delete</a></t>
                                        <ul class="oe_kanban_colorpicker" data-field="color"/>
                                    </div>
                                </div>
                                <div class="oe_kanban_content">
                                    <div>
                                        <p><span><strong class="o_kanban_record_title"><field
                                                name="name"/></strong></span></p>
                                    </div>
                                    <div class="o_kanban_record_subtitle">
                                        <p>
                                            Buyer: <span><t t-esc="record.partner_id.value"/></span><br/>
                                            Project: <span><t t-esc="record.subdivision_phase_id.value"/></span><br/>
                                        </p>
                                    </div>
                                    <div class="o_kanban_record_bottom">
                                        <div class="oe_kanban_bottom_left">
                                            <field name="priority" widget="priority" groups="base.group_user"/>
                                            <t t-if="record.message_needaction_counter.raw_value">
                                                <span role="alert" class="oe_kanban_mail_new" title="Unread Messages"><i
                                                        class="fa fa-comments" aria-label="Unread messages"
                                                        role="img"/><t
                                                        t-raw="record.message_needaction_counter.raw_value"/></span>
                                            </t>
                                            <field name="activity_ids" widget="kanban_activity"/>
                                        </div>
                                        <div class="oe_kanban_bottom_right">
                                            <img t-att-src="kanban_image('res.users', 'image_128', record.account_officer_user_id.raw_value)"
                                                 t-att-title="record.account_officer_user_id.value"
                                                 t-att-alt="record.account_officer_user_id.value"
                                                 class="oe_kanban_avatar"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="oe_clear"/>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="property_admin_sale_view_tree" model="ir.ui.view">
            <field name="name">property.admin.sale.tree</field>
            <field name="model">property.admin.sale</field>
            <field name="arch" type="xml">
                <tree string="Property Admin Sale Tree">
                    <field name="name"/>
                    <field name="so_number"/>
                    <field name="partner_id"/>
                    <field name="be_code"/>
                    <field name="subdivision_phase_id"/>
                    <field name="property_id"/>
                    <field name="tcp"/>
                    <field name="stage_id"/>
                </tree>
            </field>
        </record>

        <record id="view_property_admin_sale_filter" model="ir.ui.view">
            <field name="name">property.admin.sale.search</field>
            <field name="model">property.admin.sale</field>
            <field name="arch" type="xml">
                <search string="Property Sales">
                    <field name="name"/>
                    <field name="so_number"/>
                    <field name="partner_id" operator="child_of"/>
                    <field name="property_id"/>
                    <field name="account_officer_user_id"/>
                    <filter name="assigned_me" string="Assigned To Me"
                            domain="['|', ('account_officer_user_id', '=', uid), ('collection_officer_user_id', '=', uid)]"/>
                    <group expand="0" string="Group By">
                        <filter name="group_partner_id" string="Customer" domain="[]"
                                context="{'group_by': 'partner_id'}"/>
                        <filter name="group_stage_id" string="Status" domain="[]" context="{'group_by': 'stage_id'}"/>
                        <filter name="group_user_id" string="Responsible" domain="[]"
                                context="{'group_by': 'account_officer_user_id'}"/>
                    </group>
                    <searchpanel>
                        <field name="stage_id" select="multi" icon="fa-heartbeat"/>
                        <field name="property_unit_state" select="multi" icon="fa-paperclip"/>
                        <field name="subdivision_phase_id" select="multi" icon="fa-folder"/>
                    </searchpanel>
                </search>
            </field>
        </record>

        <record id="property_admin_sale_action_form" model="ir.actions.act_window">
            <field name="name">Property Sales</field>
            <field name="res_model">property.admin.sale</field>
            <field name="view_mode">kanban,tree,pivot,form</field>
            <field name="context">{'search_default_assigned_me': 1}</field>
        </record>

        <menuitem id="menu_property_admin_sale" parent="menu_property_sale_monitoring"
                  action="property_admin_sale_action_form" sequence="1"/>


    </data>
</odoo>